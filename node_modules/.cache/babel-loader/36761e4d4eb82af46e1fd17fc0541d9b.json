{"ast":null,"code":"var _jsxFileName = \"/Users/agndj/Desktop/Coding/Fullstack Academy/Project-05/Strangers-Things-2/Strangers-Things-2/src/components/EditPosts.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\n// URL to make template literal\n// I could just save this in an API folder & import it everytime, i'll get to it eventually\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst apiBaseURL = \"https://strangers-things.herokuapp.com/api/2209-ftb-mt-web-ft\";\n\n// FN\nconst EditPosts = props => {\n  _s();\n  const [title, setTitle] = useState(props.indivPost.title);\n  const [description, setDescription] = useState(props.indivPost.description);\n  const [location, setLocation] = useState(props.indivPost.location);\n  const [price, setPrice] = useState(props.indivPost.price);\n  const [willDeliver, setWillDeliver] = useState(props.indivPost.willDeliver);\n  const navigate = useNavigate();\n  async function changePosts(event) {\n    event.preventDefault();\n    try {\n      // console.log(\"form event:\", event.target.value)\n\n      // We want the post id for the specific one we are editing\n      const response = await fetch(`${apiBaseURL}/posts/${props.indivPost._id}`, {\n        method: \"PATCH\",\n        // patch means update (think about call of duty patches lol)\n        headers: {\n          \"Content-Type\": \"application/json\",\n          // we want that same token also\n          \"Authorization\": `Bearer ${localStorage.getItem(\"token\")}`\n        },\n        body: JSON.stringify({\n          post: {\n            title: title,\n            description: description,\n            location: location,\n            price: price,\n            willDeliver: willDeliver\n          }\n        })\n      });\n      const data = await response.json();\n      const userData = await fetch(\"https://strangers-things.herokuapp.com/api/2209-ftb-mt-web-ft/users/me\", {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      const translatedUserData = await userData.json();\n      props.setProfileData(translatedUserData.data);\n      navigate(\"/profile\");\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"new-post\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Updating Post \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      id: \"new-post-form\",\n      onSubmit: changePosts,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Edit Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: title,\n        onChange: event => setTitle(event.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Edit Description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        type: \"text\",\n        value: description,\n        onChange: event => setDescription(event.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Edit Location\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: location,\n        onChange: event => setLocation(event.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Edit Price\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: price,\n        onChange: event => setPrice(event.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Edit Willing to Deliver\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        value: willDeliver,\n        onChange: event => setWillDeliver(event.target.value),\n        defaultChecked: willDeliver\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n};\n_s(EditPosts, \"oHIGur8mqUswphTyzeOXZFXuD20=\", false, function () {\n  return [useNavigate];\n});\n_c = EditPosts;\nexport default EditPosts;\nvar _c;\n$RefreshReg$(_c, \"EditPosts\");","map":{"version":3,"names":["React","useState","useNavigate","apiBaseURL","EditPosts","props","title","setTitle","indivPost","description","setDescription","location","setLocation","price","setPrice","willDeliver","setWillDeliver","navigate","changePosts","event","preventDefault","response","fetch","_id","method","headers","localStorage","getItem","body","JSON","stringify","post","data","json","userData","translatedUserData","setProfileData","error","console","log","target","value"],"sources":["/Users/agndj/Desktop/Coding/Fullstack Academy/Project-05/Strangers-Things-2/Strangers-Things-2/src/components/EditPosts.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\n// URL to make template literal\n    // I could just save this in an API folder & import it everytime, i'll get to it eventually\n    const apiBaseURL = \"https://strangers-things.herokuapp.com/api/2209-ftb-mt-web-ft\";\n\n// FN\nconst EditPosts = (props) => {\n    const [title, setTitle] = useState(props.indivPost.title);\n    const [description, setDescription] = useState(props.indivPost.description);\n    const [location, setLocation] = useState(props.indivPost.location);\n    const [price, setPrice] = useState(props.indivPost.price);\n    const [willDeliver, setWillDeliver] = useState(props.indivPost.willDeliver);\n\n    const navigate = useNavigate();\n\n    async function changePosts(event) {\n        event.preventDefault();\n        try {\n            // console.log(\"form event:\", event.target.value)\n\n            // We want the post id for the specific one we are editing\n            const response = await fetch(`${apiBaseURL}/posts/${props.indivPost._id}`,\n            {\n                method: \"PATCH\",\n                    // patch means update (think about call of duty patches lol)\n                headers: {\n                    \"Content-Type\": \"application/json\",\n\n                        // we want that same token also\n                    \"Authorization\": `Bearer ${localStorage.getItem(\"token\")}`\n                },\n                body: JSON.stringify({\n                    post: {\n                        title: title,\n                        description: description,\n                        location: location,\n                        price: price,\n                        willDeliver: willDeliver\n                    }\n                })\n            })\n            const data = await response.json();\n\n            const userData = await fetch(\n                \"https://strangers-things.herokuapp.com/api/2209-ftb-mt-web-ft/users/me\",\n                {\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                        \"Authorization\": `Bearer ${localStorage.getItem(\"token\")}`\n                    },\n                })\n            const translatedUserData = await userData.json();\n            props.setProfileData(translatedUserData.data);\n            navigate(\"/profile\");\n\n        } catch(error) {\n            console.log(error);\n        }\n    }\n\n\n    return (\n        <div id=\"new-post\">\n            <h2>Updating Post </h2>\n            <form id=\"new-post-form\" onSubmit={changePosts}>\n                <label>Edit Title</label>\n                <input type=\"text\" value={title} onChange={(event) => setTitle(event.target.value)}></input>\n                <br />\n\n                <label>Edit Description</label>\n                <textarea type=\"text\" value={description} onChange={(event) => setDescription(event.target.value)}></textarea>\n                <br />\n\n                <label>Edit Location</label>\n                <input type=\"text\" value={location} onChange={(event) => setLocation(event.target.value)}></input>\n                <br />\n\n                <label>Edit Price</label>\n                <input type=\"text\" value={price} onChange={(event) => setPrice(event.target.value)}></input>\n                <br />\n\n\n                <label>Edit Willing to Deliver</label>\n                <input type=\"checkbox\" value={willDeliver} onChange={(event) => setWillDeliver(event.target.value)} defaultChecked={willDeliver}></input>\n                <br />\n\n                <button type=\"submit\">Submit</button>\n            </form>\n        </div>\n    )\n\n}\n\nexport default EditPosts;"],"mappings":"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"},"metadata":{},"sourceType":"module"}