{"ast":null,"code":"var _jsxFileName = \"/Users/agndj/Desktop/Coding/Fullstack Academy/Project-05/Strangers-Things-2/Strangers-Things-2/src/components/Authorized/NewListing.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useOutletContext } from \"react-router\";\n\n// URL to make template literal\n// I could just save this in an API folder & import it everytime, i'll get to it eventually\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst apiBaseURL = \"https://strangers-things.herokuapp.com/api/2209-ftb-mt-web-ft\";\n\n// FN\nconst NewListing = () => {\n  _s();\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [location, setLocation] = useState(\"\");\n  const [listing, setListing] = useOutletContext();\n  async function listingSubmitHandler(event) {\n    event.preventDefault();\n    // The parameter will not refresh the page, but run the code\n\n    try {\n      const response = await fetch(`${apiBaseURL}/listing`, {\n        method: \"POST\",\n        // All request (POST request) are made in all caps - 3b\n        headers: {\n          // Getting Token\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": `Bearer ${localStorage.getItem(\"token\")}`\n          // must have Bearer \n        },\n\n        body: JSON.stringify({\n          post: {\n            // Pass in variables from the state\n            title: title,\n            description: description,\n            price: price,\n            location: location\n          }\n        })\n      });\n\n      // Translate response into json\n      const data = await response.json();\n      setTitle(\"\");\n      setDescription(\"\");\n      setPrice(\"\");\n      setLocation(\"\");\n      console.log(\"This is the data: \", data);\n      setListing([...posts, data.data.post]);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  function updateTitleState(event) {\n    setTitle(event.target.value);\n  }\n  function updateDescriptionState(event) {\n    setDescription(event.target.value);\n  }\n  function updatePriceState(event) {\n    setPrice(event.target.value);\n  }\n  function updateLocationState(event) {\n    setLocation(event.target.value);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: listingSubmitHandler,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"form-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: title,\n          onChange: updateTitleState\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: description,\n          onChange: updateDescriptionState\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: price,\n          onChange: updatePriceState\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Create New Listing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 13\n  }, this);\n};\n_s(NewListing, \"i7qykXqHqNZnEBqRIjSloVLqrWM=\", false, function () {\n  return [useOutletContext];\n});\n_c = NewListing;\nexport default NewListing;\nvar _c;\n$RefreshReg$(_c, \"NewListing\");","map":{"version":3,"names":["React","useState","useOutletContext","apiBaseURL","NewListing","title","setTitle","description","setDescription","price","setPrice","location","setLocation","listing","setListing","listingSubmitHandler","event","preventDefault","response","fetch","method","headers","localStorage","getItem","body","JSON","stringify","post","data","json","console","log","posts","error","updateTitleState","target","value","updateDescriptionState","updatePriceState","updateLocationState"],"sources":["/Users/agndj/Desktop/Coding/Fullstack Academy/Project-05/Strangers-Things-2/Strangers-Things-2/src/components/Authorized/NewListing.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useOutletContext } from \"react-router\";\n\n// URL to make template literal\n    // I could just save this in an API folder & import it everytime, i'll get to it eventually\nconst apiBaseURL = \"https://strangers-things.herokuapp.com/api/2209-ftb-mt-web-ft\";\n\n// FN\nconst NewListing = () => {\n    const [title, setTitle] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n    const [price, setPrice] = useState(\"\");\n    const [location, setLocation] = useState(\"\");\n\n    const [listing, setListing] = useOutletContext();\n\n    async function listingSubmitHandler (event) {\n        event.preventDefault();\n            // The parameter will not refresh the page, but run the code\n\n        try {\n            const response = await fetch(`${apiBaseURL}/listing`, {\n                method: \"POST\",\n                    // All request (POST request) are made in all caps - 3b\n                headers: {\n                    // Getting Token\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": `Bearer ${localStorage.getItem(\"token\")}`\n                        // must have Bearer \n                },\n                body: JSON.stringify({\n                    post: {\n                        // Pass in variables from the state\n                        title: title,\n                        description: description,\n                        price: price,\n                        location: location\n                    }\n                })\n            })\n\n            // Translate response into json\n            const data = await response.json();\n            setTitle(\"\")\n            setDescription(\"\")\n            setPrice(\"\")\n            setLocation(\"\")\n            console.log(\"This is the data: \", data)\n    \n            setListing([...posts, data.data.post])\n    \n            \n            } catch (error) {\n                console.log(error);\n            }\n        }\n        function updateTitleState(event) {\n            setTitle(event.target.value)\n        }\n        function updateDescriptionState(event) {\n            setDescription(event.target.value)\n        }\n        function updatePriceState(event) {\n            setPrice(event.target.value)\n        }\n        function updateLocationState(event) {\n            setLocation(event.target.value)\n        }\n    \n    \n        return (\n            <div>\n                <form onSubmit={listingSubmitHandler}>\n                    <div id=\"form-content\">\n                    <label>Post</label>\n                    <input type=\"text\" value={title} onChange={updateTitleState}></input>\n    \n                    <label>Description</label>\n                    <input type=\"text\" value={description} onChange={updateDescriptionState}></input>\n    \n                    <label>Price</label>\n                    <input type=\"text\" value={price} onChange={updatePriceState}></input>\n    \n                    {/* <label>Deliver</label>\n                    <input list=\"text\" value={deliver} onChange={updateDeliverState}></input> */}\n    \n                    <button type=\"submit\">Create New Listing</button>\n                    </div>\n                </form>\n            </div>\n        )\n    }\n    \nexport default NewListing;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,gBAAgB,QAAQ,cAAc;;AAE/C;AACI;AAAA;AACJ,MAAMC,UAAU,GAAG,+DAA+D;;AAElF;AACA,MAAMC,UAAU,GAAG,MAAM;EAAA;EACrB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACM,WAAW,EAAEC,cAAc,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACQ,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACU,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAE5C,MAAM,CAACY,OAAO,EAAEC,UAAU,CAAC,GAAGZ,gBAAgB,EAAE;EAEhD,eAAea,oBAAoB,CAAEC,KAAK,EAAE;IACxCA,KAAK,CAACC,cAAc,EAAE;IAClB;;IAEJ,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEhB,UAAW,UAAS,EAAE;QAClDiB,MAAM,EAAE,MAAM;QACV;QACJC,OAAO,EAAE;UACL;UACA,cAAc,EAAE,kBAAkB;UAClC,eAAe,EAAG,UAASC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAE;UACrD;QACR,CAAC;;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACjBC,IAAI,EAAE;YACF;YACAtB,KAAK,EAAEA,KAAK;YACZE,WAAW,EAAEA,WAAW;YACxBE,KAAK,EAAEA,KAAK;YACZE,QAAQ,EAAEA;UACd;QACJ,CAAC;MACL,CAAC,CAAC;;MAEF;MACA,MAAMiB,IAAI,GAAG,MAAMV,QAAQ,CAACW,IAAI,EAAE;MAClCvB,QAAQ,CAAC,EAAE,CAAC;MACZE,cAAc,CAAC,EAAE,CAAC;MAClBE,QAAQ,CAAC,EAAE,CAAC;MACZE,WAAW,CAAC,EAAE,CAAC;MACfkB,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEH,IAAI,CAAC;MAEvCd,UAAU,CAAC,CAAC,GAAGkB,KAAK,EAAEJ,IAAI,CAACA,IAAI,CAACD,IAAI,CAAC,CAAC;IAGtC,CAAC,CAAC,OAAOM,KAAK,EAAE;MACZH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;IACtB;EACJ;EACA,SAASC,gBAAgB,CAAClB,KAAK,EAAE;IAC7BV,QAAQ,CAACU,KAAK,CAACmB,MAAM,CAACC,KAAK,CAAC;EAChC;EACA,SAASC,sBAAsB,CAACrB,KAAK,EAAE;IACnCR,cAAc,CAACQ,KAAK,CAACmB,MAAM,CAACC,KAAK,CAAC;EACtC;EACA,SAASE,gBAAgB,CAACtB,KAAK,EAAE;IAC7BN,QAAQ,CAACM,KAAK,CAACmB,MAAM,CAACC,KAAK,CAAC;EAChC;EACA,SAASG,mBAAmB,CAACvB,KAAK,EAAE;IAChCJ,WAAW,CAACI,KAAK,CAACmB,MAAM,CAACC,KAAK,CAAC;EACnC;EAGA,oBACI;IAAA,uBACI;MAAM,QAAQ,EAAErB,oBAAqB;MAAA,uBACjC;QAAK,EAAE,EAAC,cAAc;QAAA,wBACtB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAmB,eACnB;UAAO,IAAI,EAAC,MAAM;UAAC,KAAK,EAAEV,KAAM;UAAC,QAAQ,EAAE6B;QAAiB;UAAA;UAAA;UAAA;QAAA,QAAS,eAErE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAA0B,eAC1B;UAAO,IAAI,EAAC,MAAM;UAAC,KAAK,EAAE3B,WAAY;UAAC,QAAQ,EAAE8B;QAAuB;UAAA;UAAA;UAAA;QAAA,QAAS,eAEjF;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAoB,eACpB;UAAO,IAAI,EAAC,MAAM;UAAC,KAAK,EAAE5B,KAAM;UAAC,QAAQ,EAAE6B;QAAiB;UAAA;UAAA;UAAA;QAAA,QAAS,eAKrE;UAAQ,IAAI,EAAC,QAAQ;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAA4B;MAAA;QAAA;QAAA;QAAA;MAAA;IAC3C;MAAA;MAAA;MAAA;IAAA;EACH;IAAA;IAAA;IAAA;EAAA,QACL;AAEd,CAAC;AAAA,GAnFClC,UAAU;EAAA,QAMkBF,gBAAgB;AAAA;AAAA,KAN5CE,UAAU;AAqFhB,eAAeA,UAAU;AAAC;AAAA"},"metadata":{},"sourceType":"module"}